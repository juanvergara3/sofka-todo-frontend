@if(isEditingList){
<form [formGroup]="editListForm" (ngSubmit)="submitUpdatedList()">
    <fieldset>
        <div class="form-field">
            <label for="listTitle">Title: </label>
            <input id="listTitle" name="listTitle" formControlName="listTitle">
        </div>
        <div class="form-field">
            <label for="listColor">Color</label>
            <input id="listColor" name="listColor" formControlName="listColor" type="color">
        </div>
    </fieldset>
    <div class="form-buttons">
        <button type="submit" class="button button-primary" [disabled]="canSubmitEditTistForm()">Submit</button>
        <button type="button" class="button button-secondary" [disabled]="!isEditingList"
            (click)="toggleEditingList()">Cancel</button>
    </div>
</form>
} @else {

<div class="container-column list-content" [ngStyle]="{'background-color': '#' + listItem.color}">

    <div class="list-top-bar">
        <h3 [ngStyle]="{'color': '#' + contrastColor}">{{listItem.title}}</h3>
        <div class="buttons-container">
            <button type="button" class="icon-button" (click)="toggleCreatingTask()">
                <img src="../../../assets/icons/plus_icon.png" alt="Create new task"
                    [ngClass]="{'icon-inverted': contrastColor == 'ffffff'}">
            </button>
            <button type="button" class="icon-button" (click)="toggleEditingList()">
                <img src="../../../assets/icons/edit_icon.png" alt="Edit list"
                    [ngClass]="{'icon-inverted': contrastColor == 'ffffff'}">
            </button>
            <button type="button" class="icon-button" (click)="deleteList()">
                <img src="../../../assets/icons/delete_icon.png" alt="Delete list"
                    [ngClass]="{'icon-inverted': contrastColor == 'ffffff'}">
            </button>
        </div>
    </div>

    <div class="container-column">
        @for(task of tasksArraySignal(); track task._id){
        <app-task [taskItem]="task" [contrastColor]="contrastColor" (taskDeleted)="removeTask($event)"></app-task>
        }
    </div>

    @if(isCreatingNewTask){
    <form [formGroup]="newTaskForm" (ngSubmit)="submitNewTask()">
        <fieldset>
            <div class="form-field">
                <label for="taskTitle">Title: </label>
                <input id="taskTitle" name="taskTitle" formControlName="taskTitle">
            </div>
            <div class="form-field">
                <label for="taskDescription">Description: </label>
                <input id="taskDescription" name="taskDescription" formControlName="taskDescription">
            </div>
            <div class="form-field">
                <label for="taskDueDate">Due date: </label>
                <input id="taskDueDate" name="taskDueDate" formControlName="taskDueDate" type="date">
            </div>
        </fieldset>
        <div class="form-buttons">
            <button type="submit" class="button button-primary" [disabled]="canSubmitNewTaskForm()">Submit</button>
            <button type="button" class="button button-secondary" (click)="toggleCreatingTask()">Cancel</button>
        </div>
    </form>
    }
</div>
}